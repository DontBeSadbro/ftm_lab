(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{108:function(e,t,r){},109:function(e,t,r){},112:function(e,t,r){},157:function(e,t,r){},158:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),o=r(19),a=r.n(o),s=(r(108),r(10)),i=r(47),l=(r(109),r(110),r(44)),d=r(2),u=(r(112),r(42)),j=r(161),b=r(163),p=r(81),x=r.n(p),O={length:10,alfa:.1,insertionLoss:.05};function g(e){var t=e.elements,r=e.setElements,o=e.resetId,a=Object(c.useState)(!1),p=Object(i.a)(a,2),g=p[0],m=p[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("header",{className:"Header",children:Object(n.jsxs)("div",{className:"Header-btns",children:[Object(n.jsx)(u.a,{className:"button",type:"primary",onClick:function(){return function(e,t){var r,n=t.map((function(e){return Object(d.h)(e)?Object(s.a)(Object(s.a)(Object(s.a)({},e),O),{},{type:"Fiber"}):"Demux2"===e.type||"Demux4"===e.type||"Demux8"===e.type?Object(s.a)(Object(s.a)({},e),{},{type:"Demux"}):"Mux2"===e.type||"Mux4"===e.type||"Mux8"===e.type?Object(s.a)(Object(s.a)({},e),{},{type:"Mux"}):"Coupler2"===e.type||"Coupler3"===e.type||"Coupler4"===e.type?Object(s.a)(Object(s.a)({},e),{},{type:"Coupler"}):"Decoupler2"===e.type||"Decoupler3"===e.type||"Decoupler4"===e.type?Object(s.a)(Object(s.a)({},e),{},{type:"Decoupler"}):Object(s.a)({},e)})),c=Object(l.a)(n.filter((function(e){return Object(d.h)(e)})));try{var o=function(){var e=r.value,t=n.find((function(t){return t.id===e.target}));void 0===t.source&&(t.source=[]),t.source.push(e.id)};for(c.s();!(r=c.n()).done;)o()}catch(D){c.e(D)}finally{c.f()}console.log(n);var a,i={AddDropMux:[],Amplifier:[],Coupler:[],Decoupler:[],Demux:[],Fiber:[],Filter:[],Mux:[],Receiver:[],Switch:[],Transmitter:[],WaveConverter:[]},u=Object(l.a)(n);try{for(u.s();!(a=u.n()).done;){var j=a.value;i[j.type].push(j)}}catch(D){u.e(D)}finally{u.f()}var b=JSON.stringify(i);console.log(b);var p,x=JSON.parse('{"Receiver": [{"Receiver_0": {"outPower": "10", "outWave": "1550"}}, {"Receiver_1": {"outPower": "0", "outWave": "0"}}]}'),g="",m=Object(l.a)(x.Receiver);try{var h=function(){var t=p.value;e((function(e){return e.map((function(e){return t[e.id]&&(e.data.outPower=t[e.id].outPower,e.data.outWave=t[e.id].outWave),e}))}))};for(m.s();!(p=m.n()).done;)h()}catch(D){m.e(D)}finally{m.f()}var f,y=Object(l.a)(x.Receiver);try{for(y.s();!(f=y.n()).done;){var v=f.value,k=Object.keys(v);g=g+k+" has "+v[k].outPower+" mw and "+v[k].outWave+"nm\n"}}catch(D){y.e(D)}finally{y.f()}alert(g)}(r,t)},children:"Calculate"}),Object(n.jsx)(u.a,{className:"button",type:"primary",onClick:function(){return function(e){var t=[JSON.stringify(e)],r=new Blob(t,{type:"text/plane"}),n=document.createElement("a"),c=window.URL.createObjectURL(r);n.href=c;var o=prompt("File name?","default");o&&(n.download=o+".txt",n.click())}(t)},children:"Save"}),Object(n.jsx)(u.a,{className:"button",type:"primary",onClick:function(){return function(e,t){e([]),x()({accept:"text/plain"}).then((function(r){r.item(0).text().then((function(r){var n=JSON.parse(r);e(n),t(n.filter((function(e){return e.id.includes("_")})).map((function(e){return e.id.substring(e.id.lastIndexOf("_")+1)})).filter((function(e){return!e.match(/[^\d]/)})).map((function(e){return parseInt(e)})).sort((function(e,t){return t-e}))[0]+1)}))}))}(r,o)},children:"Load"}),Object(n.jsx)(u.a,{className:"button",type:"primary",onClick:function(){r([]),o(0)},children:"Clear"}),Object(n.jsx)(u.a,{className:"button",type:"primary",children:"Help"}),Object(n.jsx)(u.a,{className:"button",type:"primary",onClick:function(){return console.log(t)},children:"Check"}),Object(n.jsx)(u.a,{className:"button",type:"primary",onClick:function(){m(!0)},children:"Change fiber value"})]})}),Object(n.jsx)(j.a,{title:"Change fiber value",visible:g,onOk:function(){m(!1)},onCancel:function(){m(!1)},children:Object(n.jsxs)("div",{id:"fibermodal",children:[Object(n.jsx)(b.a,{type:"number",addonBefore:"Length",defaultValue:O.length,onChange:function(e){return O.length=e.target.value}}),Object(n.jsx)(b.a,{type:"number",addonBefore:"Alfa",defaultValue:O.alfa,onChange:function(e){return O.alfa=e.target.value}}),Object(n.jsx)(b.a,{type:"number",addonBefore:"Insertion Loss",defaultValue:O.insertionLoss,onChange:function(e){return O.insertionLoss=e.target.value}})]})})]})}var m=r(162),h=m.a.Panel,f=function(){var e=function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"};return Object(n.jsxs)("aside",{children:[Object(n.jsx)("div",{className:"description",children:"You can drag these nodes to the pane on the right."}),Object(n.jsx)("div",{className:"board transmitter",onDragStart:function(t){return e(t,"Transmitter")},draggable:!0,children:"Transmitter"}),Object(n.jsx)("div",{className:"board filter",onDragStart:function(t){return e(t,"Filter")},draggable:!0,children:"Filter"}),Object(n.jsx)("div",{className:"board amplifier",onDragStart:function(t){return e(t,"Amplifier")},draggable:!0,children:"Amplifier"}),Object(n.jsx)("div",{className:"board receiver",onDragStart:function(t){return e(t,"Receiver")},draggable:!0,children:"Receiver"}),Object(n.jsx)("div",{className:"board adddropmux",onDragStart:function(t){return e(t,"AddDropMux")},draggable:!0,children:"Add/Drop Mux"}),Object(n.jsx)("div",{className:"board waveconverter",onDragStart:function(t){return e(t,"WaveConverter")},draggable:!0,children:"Wavelength converter"}),Object(n.jsx)("div",{className:"board switch",onDragStart:function(t){return e(t,"Switch")},draggable:!0,children:"Switch"}),Object(n.jsxs)(m.a,{accordion:!0,children:[Object(n.jsxs)(h,{header:"Mux",children:[Object(n.jsx)("div",{className:"board mux2",onDragStart:function(t){return e(t,"Mux2")},draggable:!0,children:"Mux2"}),Object(n.jsx)("div",{className:"board mux4",onDragStart:function(t){return e(t,"Mux4")},draggable:!0,children:"Mux4"}),Object(n.jsx)("div",{className:"board mux8",onDragStart:function(t){return e(t,"Mux8")},draggable:!0,children:"Mux8"})]},"1"),Object(n.jsxs)(h,{header:"Demux",children:[Object(n.jsx)("div",{className:"board demux2",onDragStart:function(t){return e(t,"Demux2")},draggable:!0,children:"Demux2"}),Object(n.jsx)("div",{className:"board demux4",onDragStart:function(t){return e(t,"Demux4")},draggable:!0,children:"Demux4"}),Object(n.jsx)("div",{className:"board demux8",onDragStart:function(t){return e(t,"Demux8")},draggable:!0,children:"Demux8"})]},"2"),Object(n.jsxs)(h,{header:"Coupler",children:[Object(n.jsx)("div",{className:"board coupler2",onDragStart:function(t){return e(t,"Coupler2")},draggable:!0,children:"Coupler2"}),Object(n.jsx)("div",{className:"board coupler3",onDragStart:function(t){return e(t,"Coupler3")},draggable:!0,children:"Coupler3"}),Object(n.jsx)("div",{className:"board coupler4",onDragStart:function(t){return e(t,"Coupler4")},draggable:!0,children:"Coupler4"})]},"3"),Object(n.jsxs)(h,{header:"Decoupler",children:[Object(n.jsx)("div",{className:"board decoupler2",onDragStart:function(t){return e(t,"Decoupler2")},draggable:!0,children:"Decoupler2"}),Object(n.jsx)("div",{className:"board decoupler3",onDragStart:function(t){return e(t,"Decoupler3")},draggable:!0,children:"Decoupler3"}),Object(n.jsx)("div",{className:"board decoupler4",onDragStart:function(t){return e(t,"Decoupler4")},draggable:!0,children:"Decoupler4"})]},"4")]})]})},y=function(e){var t,r,c=null===(t=e.data)||void 0===t||null===(r=t.onChange)||void 0===r?void 0:r.bind(null,e.data.id);return Object(n.jsx)("input",Object(s.a)({className:"field",type:"number",defaultValue:e.data[e.name],onChange:c,onMouseDown:function(e){return e.stopPropagation()}},e))},v=Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Transmitter"})}),Object(n.jsxs)("div",{children:["Power:",Object(n.jsx)(y,{name:"power",data:t}),"mW, Wavelength:",Object(n.jsx)(y,{name:"wavelength",data:t}),"nm"]}),"Insertion loss:",Object(n.jsx)(y,{name:"loss",data:t}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),k=Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Filter"})}),Object(n.jsxs)("div",{children:["Min. wavelength:",Object(n.jsx)(y,{data:t,name:"minWL"}),"nm, Max. wavelength:",Object(n.jsx)(y,{data:t,name:"maxWL"}),"nm"]}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})}));r(157);function D(e){return e.outpower?Object(n.jsx)("div",{ref:function(t){(null===t||void 0===t?void 0:t.parentElement)&&(t.parentElement.style.borderColor="0"===e.outpower?"red":"green")},children:"0"!==e.outpower?"Received power: ".concat(e.outpower," mW, for Wavelength: ").concat(e.outwave," nm"):"Power is less than set sensitivity."}):null}var w={Transmitter:v,Filter:k,Amplifier:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Amplifier"})}),Object(n.jsxs)("div",{children:["Amplification:",Object(n.jsx)(y,{name:"amp",data:t}),"dbm, Max. power:",Object(n.jsx)(y,{name:"maxPower",data:t})]}),Object(n.jsxs)("div",{children:["Min. wavelength:",Object(n.jsx)(y,{name:"minWL",data:t}),"nm, Max. wavelength:",Object(n.jsx)(y,{name:"maxWL",data:t}),"nm"]}),"Insertion loss:",Object(n.jsx)(y,{name:"loss",data:t}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),Receiver:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Receiver"})}),Object(n.jsxs)("div",{children:["Sensitivity:",Object(n.jsx)(y,{data:t,name:"sens"}),"mw,Wavelength:",Object(n.jsx)(y,{data:t,name:"wavelength"}),"nm"]}),Object(n.jsxs)("div",{children:["Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm"]}),Object(n.jsx)(D,{outpower:t.outPower,outwave:t.outWave})]})})),AddDropMux:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Add/drop Mux"})}),Object(n.jsxs)("div",{children:["Add wavelength:",Object(n.jsx)(y,{data:t,name:"addWL"}),"nm, Remove wavelength:",Object(n.jsx)(y,{data:t,name:"delWL"}),"nm"]}),Object(n.jsxs)("div",{children:["Power:",Object(n.jsx)(y,{data:t,name:"power"}),"mw, Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm"]}),Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),WaveConverter:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Wavelength converter"})}),Object(n.jsxs)("div",{children:["Input wavelength:",Object(n.jsx)(y,{data:t,name:"inWL"}),"nm, Output wavelength:",Object(n.jsx)(y,{data:t,name:"outWL"}),"nm"]}),Object(n.jsxs)("div",{children:["Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm"]}),Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),Switch:Object(c.memo)((function(e){var t,r=e.data,c=null===r||void 0===r||null===(t=r.onChange)||void 0===t?void 0:t.bind(null,r.id);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",id:"0",position:"left",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"1",position:"left",style:{top:80,background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Switch"})}),Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"radio",id:"horizontal",checked:0===r.rules[0],name:"rules",value:"[0, 1]",onChange:c}),Object(n.jsx)("label",{htmlFor:"horizontal",children:" Horizontal"}),Object(n.jsx)("input",{type:"radio",id:"cross",checked:1===r.rules[0],name:"rules",onChange:c,value:"[1, 0]"}),Object(n.jsx)("label",{htmlFor:"cross",children:" Cross"})]}),"Insertion loss:",Object(n.jsx)(y,{name:"loss",data:r}),"dbm",Object(n.jsx)(d.c,{type:"source",id:"0",position:"right",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"1",position:"right",style:{top:80,background:"#555"}})]})})),Mux2:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",id:"0",position:"left",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"1",position:"left",style:{top:60,background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Mux"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),Mux4:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",id:"0",position:"left",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"1",position:"left",style:{top:27,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"2",position:"left",style:{top:44,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"3",position:"left",style:{top:60,background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Mux"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),Mux8:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",id:"0",position:"left",style:{top:5,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"1",position:"left",style:{top:13,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"2",position:"left",style:{top:22,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"3",position:"left",style:{top:30,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"4",position:"left",style:{top:39,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"5",position:"left",style:{top:47,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"6",position:"left",style:{top:56,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"7",position:"left",style:{top:65,background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Mux"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),Demux2:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Demux"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",id:"0",position:"right",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"1",position:"right",style:{top:60,background:"#555"}})]})})),Demux4:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Demux"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",id:"0",position:"right",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"1",position:"right",style:{top:27,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"2",position:"right",style:{top:44,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"3",position:"right",style:{top:60,background:"#555"}})]})})),Demux8:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Demux"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",id:"0",position:"right",style:{top:5,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"1",position:"right",style:{top:13,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"2",position:"right",style:{top:22,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"3",position:"right",style:{top:30,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"4",position:"right",style:{top:39,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"5",position:"right",style:{top:47,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"6",position:"right",style:{top:56,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"7",position:"right",style:{top:65,background:"#555"}})]})})),Coupler2:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",id:"0",position:"left",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"1",position:"left",style:{top:60,background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Coupler"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),Coupler3:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",id:"0",position:"left",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"1",position:"left",style:{top:35,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"2",position:"left",style:{top:60,background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Coupler"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),Coupler4:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",id:"0",position:"left",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"1",position:"left",style:{top:27,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"2",position:"left",style:{top:44,background:"#555"}}),Object(n.jsx)(d.c,{type:"target",id:"3",position:"left",style:{top:60,background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Coupler"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",position:"right",style:{background:"#555"}})]})})),Decoupler2:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Decoupler"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",id:"0",position:"right",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"1",position:"right",style:{top:60,background:"#555"}})]})})),Decoupler3:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Decoupler"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",id:"0",position:"right",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"1",position:"right",style:{top:35,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"2",position:"right",style:{top:60,background:"#555"}})]})})),Decoupler4:Object(c.memo)((function(e){var t=e.data;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.c,{type:"target",position:"left",style:{background:"#555"}}),Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"Decoupler"})}),"Insertion loss:",Object(n.jsx)(y,{data:t,name:"loss"}),"dbm",Object(n.jsx)(d.c,{type:"source",id:"0",position:"right",style:{top:10,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"1",position:"right",style:{top:27,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"2",position:"right",style:{top:44,background:"#555"}}),Object(n.jsx)(d.c,{type:"source",id:"3",position:"right",style:{top:60,background:"#555"}})]})}))},C=function(e){switch(e){case"Transmitter":return{power:1e3,wavelength:1450,loss:1};case"Filter":return{minWL:1200,maxWL:1600,loss:1};case"Amplifier":return{amp:2,maxPower:500,minWL:1200,maxWL:1600,loss:1};case"Receiver":return{sens:10,wavelength:1450,loss:1,outPower:void 0,outWave:void 0};case"AddDropMux":return{addWL:1350,delWL:1550,power:1e3,loss:1};case"WaveConverter":return{inWL:1250,outWL:1550,loss:1};case"Switch":return{rules:[0,1],loss:1};case"Mux2":case"Mux4":case"Mux8":case"Coupler2":case"Coupler3":case"Coupler4":return{loss:1};case"Demux2":case"Decoupler2":return{loss:1,outputNum:2};case"Decoupler3":return{loss:1,outputNum:3};case"Demux4":case"Decoupler4":return{loss:1,outputNum:4};case"Demux8":return{loss:1,outputNum:8};default:return{}}},N=function(e){switch(e){case"Transmitter":case"Filter":case"Amplifier":case"Receiver":case"AddDropMux":case"WaveConverter":case"Switch":case"Mux2":case"Mux4":case"Mux8":case"Demux2":case"Demux4":case"Demux8":case"Coupler2":case"Coupler3":case"Coupler4":case"Decoupler2":case"Decoupler3":case"Decoupler4":return{border:"2px solid black",borderRadius:"5px",padding:10};default:return}},S=function(e){var t=e.elements,r=e.setElements,o=e.getId,a=Object(c.useRef)(null),l=Object(c.useState)(null),u=Object(i.a)(l,2),j=u[0],b=u[1],p=Object(c.useCallback)((function(e,t){r((function(r){return r.map((function(r){if(Object(d.h)(r)||e!==r.id)return r;var n=t.target.name,c=t.target.value;return"Switch"===r.type&&"rules"===t.target.name?r.data[n]=JSON.parse(c):r.data[n]=c,r}))}))}),[r]);return Object(n.jsx)("div",{className:"board",children:Object(n.jsxs)(d.e,{children:[Object(n.jsx)(f,{}),Object(n.jsx)("div",{className:"reactflow-wrapper",ref:a,children:Object(n.jsxs)(d.g,{elements:t.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:Object(s.a)(Object(s.a)({},e.data),{},{onChange:p})})})),onConnect:function(e){return r((function(t){return Object(d.f)(e,t)}))},onElementsRemove:function(e){r((function(t){return Object(d.i)(e,t)}))},onLoad:function(e){return b(e)},onDrop:function(e){e.preventDefault();var t=a.current.getBoundingClientRect(),n=e.dataTransfer.getData("application/reactflow");if(n){var c=j.project({x:e.clientX-t.left,y:e.clientY-t.top}),i=o(n),l={id:i,type:"".concat(n),style:N(n),position:c,data:Object(s.a)(Object(s.a)({label:"".concat(n," node")},C(n)),{},{id:i})};r((function(e){return e.concat(l)}))}},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onNodeDragStop:function(e,n){r(t.map((function(e){return e.id===n.id?Object(s.a)(Object(s.a)({},e),{},{position:n.position}):e})))},nodeTypes:w,children:[Object(n.jsx)(d.a,{variant:"dots",gap:20,size:.7}),Object(n.jsx)(d.b,{})]})}),Object(n.jsx)(d.d,{nodeStrokeColor:function(e){var t;return(null===(t=e.style)||void 0===t?void 0:t.background)?e.style.background:"black"},nodeColor:function(e){var t;return(null===(t=e.style)||void 0===t?void 0:t.background)?e.style.background:"#fff"},nodeBorderRadius:2})]})})},M=0,W=function(e){return"".concat(e,"_").concat(M++)},F=function(e){return M=e};var I=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),r=t[0],o=t[1];return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(g,Object(s.a)({},{elements:r,setElements:o,resetId:F})),Object(n.jsx)(S,Object(s.a)({},{elements:r,setElements:o,getId:W}))]})};a.a.render(Object(n.jsx)(I,{}),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.236072ec.chunk.js.map